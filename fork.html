<!DOCTYPE html>
<meta charset="utf-8">


<link href="js/lib/nvd3/nv.d3.css" rel="stylesheet" type="text/css">

<style>

body {
  overflow-y:scroll;
}

text {
  font: 12px sans-serif;
}

#chart1, #chart2 {
  height: 500px;
}

</style>
<body>

  <div>
    <svg id="chart1"></svg>
  </div>

  <div>
    <!--<svg id="chart2"></svg>-->
  </div>

<script src ="js/lib/d3/d3.js"></script>
<script src="js/lib/nvd3/nv.d3.min.js"></script>
<script src="js/lib/nvd3/utils.js"></script>
<script src="js/lib/nvd3/models/axis.js"></script>
<script src="js/lib/nvd3/tooltip.js"></script>
<script src="js/lib/nvd3/models/legend.js"></script>
<script src="js/lib/nvd3/models/axis.js"></script>
<script src="js/lib/nvd3/models/scatter.js"></script>
<script src="js/lib/nvd3/models/stackedArea.js"></script>
<script src="js/lib/nvd3/models/stackedAreaChart.js"></script>
<script src ="js/avb.js"></script>

<script>


var jdata = [{"key":"Revenues","values":[{year:2006,val:91967801},{year:2007,val :85887429}]},
            {"key":"Revenues2","values":[{year:2006,val:91967801},{year:2007,val :85887429}]}]; 


var colors = d3.scale.category20();
keyColor = function(d, i) {return colors(d.key)};

var chart;
nv.addGraph(function() {
  chart = nv.models.stackedAreaChart()
                .x(function(d) { return d.year })
                .y(function(d) { return d.val })
                .color(keyColor)
                //.clipEdge(true);

// chart.stacked.scatter.clipVoronoi(false);

  chart.xAxis
      .tickFormat(function(d) { return d.toString(); });

  chart.yAxis
      .tickFormat(function(d) { return d.toString(); });

      console.log(jdata);

  d3.select('#chart1')
    .datum(jdata)
      .transition().duration(500).call(chart);

  nv.utils.windowResize(chart.update);

  chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });
  return chart;
});



</script>
